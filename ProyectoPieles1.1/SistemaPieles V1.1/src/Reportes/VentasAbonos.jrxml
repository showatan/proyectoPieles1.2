<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="VentasAbonos" language="groovy" pageWidth="595" pageHeight="842" columnWidth="595" leftMargin="0" rightMargin="0" topMargin="20" bottomMargin="20" uuid="1eb1c36c-0d54-469f-a529-ba9c6d5f2102">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<subDataset name="dataset1" uuid="348bbd5b-7060-432e-97b8-94b2474a878c"/>
	<parameter name="idcliente" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\ProyectoPieles\\ProyectoPieles1.1\\SistemaPieles V1.1\\src\\Reportes\\"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
    t1.idventa,
    t1.fechaventa,
    t2.descripcion,
    t1.totalventa,
    t2.abono
FROM
    venta t1
LEFT JOIN abono t2 ON
    (0)
WHERE
     t1.idcliente  = $P{idcliente}
UNION
SELECT
    t2.idabono,
    t2.fechaabono,
    t2.descripcion,
    t1.totalventa,
    t2.abono
FROM
    venta t1
RIGHT JOIN abono t2 ON
    (0)
WHERE
     t2.idcliente  = $P{idcliente}]]>
	</queryString>
	<field name="idventa" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="fechaventa" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="descripcion" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="totalventa" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="abono" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="totalventa_1" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{totalventa}]]></variableExpression>
	</variable>
	<variable name="abono_1" class="java.math.BigDecimal" resetType="Column" calculation="Sum">
		<variableExpression><![CDATA[$F{abono}]]></variableExpression>
	</variable>
	<variable name="saldo12" class="java.lang.String">
		<variableExpression><![CDATA[$V{totalventa_1}-$V{abono_1}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="128" splitType="Stretch">
			<frame>
				<reportElement mode="Opaque" x="-1" y="-21" width="475" height="149" backcolor="#FF9900" uuid="8b810fb6-c7dc-4537-9989-48e8fb0a8a4a"/>
				<frame>
					<reportElement mode="Opaque" x="0" y="20" width="458" height="91" forecolor="#000000" backcolor="#990000" uuid="06306ddf-ccb5-48af-a28f-e6c89c5334d8"/>
					<staticText>
						<reportElement x="25" y="12" width="216" height="70" forecolor="#FFFFFF" uuid="492a6d95-1de6-4d7c-b391-bead7cfed9c9"/>
						<textElement textAlignment="Center" verticalAlignment="Middle">
							<font fontName="absender" size="41" isBold="true"/>
						</textElement>
						<text><![CDATA[Tecnopiel]]></text>
					</staticText>
					<staticText>
						<reportElement x="241" y="54" width="138" height="28" forecolor="#FFFFFF" uuid="11c6cecd-f923-485b-bdb7-22be6102151e"/>
						<textElement verticalAlignment="Middle">
							<font size="14" isBold="true"/>
						</textElement>
						<text><![CDATA[Tel: 7767-5822.]]></text>
					</staticText>
					<staticText>
						<reportElement x="241" y="22" width="179" height="22" forecolor="#FFFFFF" uuid="097c0b72-65f8-4ba0-9135-a782d285d8f5"/>
						<textElement verticalAlignment="Middle">
							<font size="10" isBold="true"/>
						</textElement>
						<text><![CDATA[Dirección: 1era. calle D3 - 10 zona 8.]]></text>
					</staticText>
				</frame>
				<textField pattern="EEEEE dd MMMMM yyyy">
					<reportElement x="314" y="127" width="144" height="20" forecolor="#FFFFFF" uuid="dc98be28-e241-487b-a745-9085bb6da285"/>
					<textElement textAlignment="Right">
						<font size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="20" y="111" width="275" height="32" forecolor="#FFFFFF" uuid="baf5ceb2-f977-4c32-95ad-053376eff25a"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Times New Roman" size="14" isUnderline="false" isStrikeThrough="false"/>
						<paragraph lineSpacing="Single"/>
					</textElement>
					<text><![CDATA[Reporte de estado de cuenta.]]></text>
				</staticText>
			</frame>
			<image>
				<reportElement x="475" y="0" width="100" height="128" uuid="cc9d05f2-6fd7-40d0-ab87-bd2ee6626869"/>
				<imageExpression><![CDATA["C:\\ProyectoPieles\\ProyectoPieles1.1\\SistemaPieles V1.1\\src\\Reportes\\tecnopiel.png"]]></imageExpression>
			</image>
		</band>
	</title>
	<pageHeader>
		<band height="101" splitType="Stretch">
			<subreport>
				<reportElement x="0" y="0" width="200" height="101" uuid="69426a21-b99b-4d02-8ab8-48bf8e374102"/>
				<subreportParameter name="idcliente">
					<subreportParameterExpression><![CDATA[$P{idcliente}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "pageheader.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="23" splitType="Stretch">
			<frame>
				<reportElement mode="Opaque" x="0" y="0" width="595" height="23" backcolor="#000000" uuid="eebfde2f-9ee4-4cc0-92cd-f546c4ca210f"/>
				<staticText>
					<reportElement x="20" y="0" width="57" height="20" forecolor="#FFFFFF" uuid="5ca2e9ee-9390-43d4-900d-5edaef11d2a3"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Times New Roman"/>
					</textElement>
					<text><![CDATA[Documento]]></text>
				</staticText>
				<staticText>
					<reportElement x="89" y="0" width="100" height="20" forecolor="#FFFFFF" uuid="5a9d16a3-4542-4c28-a3ff-412d4eb2b224"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Times New Roman"/>
					</textElement>
					<text><![CDATA[Fecha]]></text>
				</staticText>
				<staticText>
					<reportElement x="430" y="0" width="100" height="20" forecolor="#FFFFFF" uuid="a8013451-c0f0-4e2b-b12e-adfb79e969d3"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Times New Roman"/>
					</textElement>
					<text><![CDATA[Descripcion del abono]]></text>
				</staticText>
				<staticText>
					<reportElement x="200" y="0" width="100" height="20" forecolor="#FFFFFF" uuid="ce0b9a6b-065d-4048-b4a2-2a1827073f6b"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Times New Roman"/>
					</textElement>
					<text><![CDATA[Venta]]></text>
				</staticText>
				<staticText>
					<reportElement x="313" y="0" width="100" height="20" forecolor="#FFFFFF" uuid="da67dcce-a603-491f-b422-428e2f4e57ff"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Times New Roman"/>
					</textElement>
					<text><![CDATA[Abono]]></text>
				</staticText>
			</frame>
		</band>
	</columnHeader>
	<detail>
		<band height="23" splitType="Stretch">
			<frame>
				<reportElement mode="Opaque" x="191" y="0" width="117" height="23" forecolor="#99FF99" backcolor="#CCFFCC" uuid="6d6eddb3-3ed5-443e-865c-d199613a8d53"/>
				<textField isBlankWhenNull="true">
					<reportElement isPrintRepeatedValues="false" x="7" y="3" width="100" height="18" uuid="bb39e922-3fda-4ed2-a0ac-ec0ae03785c5"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Times New Roman" size="14"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{totalventa}]]></textFieldExpression>
				</textField>
			</frame>
			<frame>
				<reportElement mode="Opaque" x="20" y="0" width="63" height="23" backcolor="#CCFFCC" uuid="6f5a69b1-e893-4756-accf-f896e2f7e182"/>
				<textField>
					<reportElement isPrintRepeatedValues="false" x="0" y="2" width="56" height="18" uuid="c518bdb1-15a1-4f27-a5b0-2ce6846da375"/>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None">
						<font fontName="Times New Roman" size="14"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{idventa}]]></textFieldExpression>
				</textField>
			</frame>
			<frame>
				<reportElement mode="Opaque" x="83" y="0" width="108" height="23" backcolor="#CCFFCC" uuid="93c8d251-596b-49b2-b33b-08b4c160ed38"/>
				<textField pattern="" isBlankWhenNull="false">
					<reportElement x="4" y="3" width="100" height="18" uuid="75a18598-bf55-4a8a-ba6f-5fce7900bb74"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Times New Roman" size="14"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{fechaventa}]]></textFieldExpression>
				</textField>
			</frame>
			<frame>
				<reportElement mode="Opaque" x="308" y="0" width="115" height="23" backcolor="#FF9999" uuid="f8a1fd80-0ceb-4057-9e68-1f23693f6706"/>
				<textField pattern="" isBlankWhenNull="true">
					<reportElement isPrintRepeatedValues="false" x="3" y="3" width="100" height="18" uuid="c81b9407-1d87-4996-a6ff-0494b078c50b"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Times New Roman" size="14"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{abono}]]></textFieldExpression>
				</textField>
			</frame>
			<frame>
				<reportElement mode="Opaque" x="422" y="0" width="152" height="23" backcolor="#FF9999" uuid="44f532f6-6e70-433c-8c97-16b7665d1212"/>
				<textField isBlankWhenNull="true">
					<reportElement isPrintRepeatedValues="false" x="7" y="3" width="131" height="18" uuid="f52bebe5-4096-4fe3-b586-77c3988ec303"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Times New Roman" size="14"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{descripcion}]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</detail>
	<columnFooter>
		<band height="95" splitType="Stretch">
			<frame>
				<reportElement mode="Opaque" x="0" y="0" width="595" height="95" backcolor="#996600" uuid="0040b59c-a2c1-4840-9cba-5aabb6755ff9"/>
				<staticText>
					<reportElement x="24" y="8" width="216" height="20" forecolor="#FFFFFF" uuid="2fa653d4-7850-4322-a2a6-d184dfee4a30"/>
					<textElement>
						<font size="14" isBold="true"/>
					</textElement>
					<text><![CDATA[Movimientos totales del mes]]></text>
				</staticText>
				<textField>
					<reportElement x="374" y="11" width="100" height="20" forecolor="#FFFFFF" uuid="6cc70126-fe8c-419e-91f6-13b901e66ba3"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$V{totalventa_1}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="278" y="63" width="68" height="20" forecolor="#FFFFFF" uuid="2db07845-1b3d-493a-a255-64bb967bac33"/>
					<textElement>
						<font size="14" isBold="true"/>
					</textElement>
					<text><![CDATA[Saldo: Q]]></text>
				</staticText>
				<line>
					<reportElement x="20" y="7" width="552" height="1" forecolor="#FFFF99" backcolor="#FFFF99" uuid="a615ad7a-feaa-4859-be16-3192c730f31b"/>
					<graphicElement>
						<pen lineWidth="2.0"/>
					</graphicElement>
				</line>
				<textField>
					<reportElement x="374" y="31" width="100" height="20" forecolor="#FFFFFF" uuid="27bfbcaa-5c76-4227-b2f7-b586edd4725b"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$V{abono_1}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="374" y="63" width="100" height="20" forecolor="#FFFFFF" uuid="e4e02717-6491-43d6-9371-1e4e56c0b359"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$V{saldo12}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="278" y="11" width="79" height="20" forecolor="#FFFFFF" uuid="d79b300f-23fe-4398-b952-78cc2b3ee514"/>
					<textElement>
						<font size="14" isBold="true"/>
					</textElement>
					<text><![CDATA[Ventas: Q]]></text>
				</staticText>
				<staticText>
					<reportElement x="278" y="32" width="79" height="19" forecolor="#FFFFFF" uuid="d4dc27b4-39c0-4e15-82fb-30d05d10890c"/>
					<textElement>
						<font size="14" isBold="true"/>
					</textElement>
					<text><![CDATA[Abonos: Q]]></text>
				</staticText>
				<line>
					<reportElement x="274" y="58" width="200" height="1" forecolor="#FFFFFF" backcolor="#FFFFFF" uuid="819cc138-b079-4afe-b6b5-383dc840f987"/>
					<graphicElement>
						<pen lineWidth="2.25"/>
					</graphicElement>
				</line>
			</frame>
		</band>
	</columnFooter>
	<pageFooter>
		<band height="19" splitType="Stretch">
			<textField evaluationTime="Report">
				<reportElement mode="Opaque" x="539" y="0" width="56" height="18" forecolor="#333333" backcolor="#CCCCCC" uuid="7a63dd8a-c58c-4d8e-b18d-c5c08f4a9e8a"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement mode="Opaque" x="0" y="0" width="539" height="18" forecolor="#333333" backcolor="#CCCCCC" uuid="773f8d22-8518-4dc6-bff2-f4a47fb219f9"/>
				<textElement textAlignment="Right">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA["Página: "+$V{PAGE_NUMBER}+" de"]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="24" splitType="Stretch"/>
	</summary>
</jasperReport>
